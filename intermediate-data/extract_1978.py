# Copyright (c) 2025 - Present. IKWF History. All rights reserved.

"""
The competitor list (from scans from Terry Weber) is contained below. We'll
use this to fill out a competitor list for this year.

------------------------------------------------

TEAMS
An UG :: Antioch
Bel R :: Belleville Red
Bel W :: Belleville/White
Belvd Y :: Belvidere YMCA
Carb :: Carbondale
Cool :: Coolidge
CR :: Chicago Ridge
Dec :: Decatur
Dix :: Dixon
Dol :: Dolton Park
Elm :: Elmhurst
EM :: East Moline
Har :: Harvard
Hart :: Hartford
High :: Dundee
Hunt :: Huntley
In Tr :: Indian Trail
Jeff :: Jefferson Jr. High
Jol BC :: Joliet Boys Club
Jol Y :: Joliet YMCA
Jor :: Jordon
Lin :: Lincoln Jr. High
LJH :: Lundahl Jr. High
Lk Vil :: Lake Villa
Lk Zur WC :: Lake Zurich
Mink :: Minooka
Mok :: Mokena
Mt G :: Mt. Greenwood
Mur :: Murphysboro
Nap :: Naperville
OF :: Oak Forest
Or Pk :: Orland Park
Pant :: Panthers
Pek :: Pekin
Pk For :: Park Forest
Pln :: Plainfield
Pon :: Pontiac
Pon :: Pontiac
PPD :: Palatine PD
Raid :: Raiders
RF :: Rock Falls
Riv D :: Riverdale
Ros :: Rosemont
Rox :: Roxana
RT :: River Trails
Shab :: Shabbona
Spring :: Springfield
St V :: Stillman Valley
Sum H :: Summit Hill
Syc :: Sycamore
TP :: Tinley PK
Trim :: Trimpe
Troy :: Troy
Urb :: Urbana
Vil Pk :: Villa Park
Wal S :: Walter Sundling
Ward :: Ward Middle
Wash :: Washington
Wh Fr :: Franklin/Wheaton

60
Ed Moholick :: Pln :: 3
Bonic :: Mat
Rangel :: Wash
Jurinek :: Ros
Becker :: Pant
>> Calhoun :: Bel R
>> Mike O'Brien :: CR :: 1
Tiembier :: EM
John Galkowski :: PPD :: 6
Suter :: Dec
Allgire :: Bel W
Phil Chihoski :: Ros :: 4
Besley :: Jol Y
Craig DeBevec :: OF :: 2
Spacone :: Lin
Ken Sheppard :: PPD :: 5
>>> Brown :: RF
>>> Gray :: Nap

65
Jeff Walters :: Pln :: 4
Eiricson :: High
Joe Bochenski :: Pant :: 6
Shroeder :: Mat
Hanlin :: EM
>>> Meagher :: Jol Y
>>> Robackouski :: Ros
Rob Millazo :: Rox :: 2
O'Brien :: CR
Chris Scott :: Jol Y :: 1
Lind :: Pon
Lewis :: Urb
>>> Dorich :: Lin
>>> Jensen :: Sh Ln
Bertucci :: Ros
Williams :: Dix
Tim Thompson :: TP :: 3
Brett Clady :: Hart :: 5
Dorich :: Lin

70
Daniels :: Troy
Denning :: Eis
Larson :: Hunt
>>> Reidy :: TP
>>> Navaho Woods :: Wash :: 4
Mike Trgoeich :: Rox :: 2
Dave Rathje :: Dec :: 6
Shelton :: High
Karkasis :: Elm
Pat Rajnic :: Wh Fr :: 5
Elleson :: Shab
John Ruiter :: Jol Y :: 1
Pellegrini :: HC
Campbell :: Mat
Kristoff :: Hart
Dan Verr :: Raid :: 3
>>> Booth :: Gen
>>> Mores :: High

75
Pauls :: Nap
Korcourek :: St V
Rob Warren :: Rox :: 3
Scott Pierre :: Wh Fr :: 1
Stanton :: Deerp
Joe McNeely :: Sum H :: 6
Huston :: CR
>>> Bent :: LJH
>>> Fitzgibbons :: Raid
Hermann :: Hunt
Bob Gonnella :: Elm :: 4
Keith Healy :: Pant :: 5
Lemming :: Carb
Zuehl :: Jeff
Hruska :: PPD
Sollars :: Westv
>>> Marquez :: HC
>>> Nick Quas :: Pln :: 2

80
Mentzer :: Pln
>> Clardy :: Trim
>> Denison :: Hoop
Henry Stagnito :: Lk Zur WC :: 6
Flynn :: Belvd Y
Tim O'Brien :: CR :: 3
Mike Pierre :: Wh Fr :: 1
Marvanic :: Elm
Conroy :: Wash
Terry Easton :: Mur :: 5
Lein :: Nap
Crown :: Syc
Callahan :: High
Jerry Blaney :: Pant :: 2
Kory Ross :: LJH :: 4
LeGrand :: Sum H
>> Walsh :: St Th
>> McMahon :: TP

85
Bessette :: Pin
Campbell :: Dol
Watters :: RT
Brian Garelli :: Vil Pk :: 2
Pierce :: Hoop
>> White :: Lund
>> Jacobs :: Mur
Shawn Mann :: Jol Y :: 6
Kirk Hollembeak :: Belvd Y :: 4
Brian Porter :: OF :: 1
Buck :: Gower
Cancelli :: CSRM
Bohenek :: Elm
Mark Kristoff :: Trim :: 5
>> Chesky :: Bobc
>> Christianson :: Dec
Dennis Gilley :: Belvd Y :: 3
Fitzgerald :: Gom

90
Brian McTague :: Shab :: 2
Girard :: Har
Gilliam :: HC
Brown :: Carb
Gustin :: Apo
Mike McKeel :: Dix :: 4
Johnston :: Urb
>>> Eric Ewoldt :: Wh Fr :: 6
>>> Capodice :: Mok
McNeely :: Coop
Friddle :: Coal C
Tim Tieman :: Bel W :: 5
Dave Soraghan :: Or Pk :: 3
Wills :: St V
Lechtenberg :: Elm
Jeff Schultz :: Pant :: 1
>>> Hanson :: Champ
>>> Fessler :: TP

95
Witkawski :: Pln
Tim Meister :: Syc :: 2
Kevin Mackey :: Urb :: 3
Yohe :: TP
Soraghan :: Or Pk
>>> Olson :: Nor PD
>>> Tim Nelson :: High :: 6
Zimmerman :: Eis
Knewitz :: Carb
Bob Guerrieri :: Elm :: 4
>>> Pierce :: Coal C
>>> Loy :: Riv D
McCabe :: Mt G
Younger :: Mah
Pahlke :: An UG
Tony Prate :: Or Pk :: 1
Bob Dahm :: Bel R :: 5
Ortega :: Pant

100
Tom Lind :: Pon :: 3
Montez :: Hoop
Rick Criscione :: Jol Y :: 1
Cortese :: Mat B
Phil Schiayone :: In Tr :: 5
>> Walsh :: Mt G
>> Ziprich :: Rox
Goodrich :: Hunt
Wohlfiel :: An UG
Nelson :: Champ
Kovacevich :: Pln
Jeff Morrissey :: Ros :: 4
>> Sunday :: Lock
>> Seeland :: Wh Fr
Triveline :: Dol
Warner :: Carb
Mitch Sheppard :: PPD :: 2
Perry Olsen :: EM :: 6

105
Don Govoni :: Pln :: 3
Eichelberger :: Wash
McWilliams :: Bobc
Ortiz :: Blm
Mike Smith :: St V :: 1
>>> Ramirez :: Holmes
>>> Wallace :: Lund
Linze :: Mur
Tim Cocco :: CR :: 6
Frankowski :: Or Pk
>>> Puebla :: Wood Wil
>>> Slown :: Pon
Kyle Easter :: Pek :: 2
Plichta :: Wh Fr
Hinich :: Ros
Mike Rowden :: Lk Vil :: 4
Mark Moore :: OF :: 5
Phavorachit :: Carb

112
Rick Tutor :: Mink :: 2
Sebesta :: Eis
>> Leahy :: HC
>> Fabian :: Jol Y
Kirk Taylor :: Hunt :: 4
Rick Copeland :: Rox :: 6
Spencer :: Bism
Lehn :: An UG
Coy :: Apo
Seeland :: Wh Fr
Holm :: Pln
>> Mayberry :: Rox
>>> Scott Hamrick :: EM :: 3
Jim Kaminski :: Mok :: 5
Thomas :: Pek
Guy Milburn :: Dol :: 1
Cincinelli :: Ros
McKinzie :: Deerp

118
Goodwin :: Jane A
Frivre :: Hunt
Brian Brown :: Carb :: 2
>>> Behrle :: Lan
>>> Olszewski :: Eis
Todd Patton :: High :: 3
Aaron Terrell :: Pk For :: 5
Bntimigilia :: OF
Herring :: Dec
Beasey :: Syc
Bauditt :: Pln
Mingilino :: Bobc
Tom Bolas :: Ros :: 6
Evan Dale :: Wash :: 1
>>> Schmidt :: Edw
>>> George Bessette :: An UG :: 4
Ater :: LJH
Kultinski :: Mt G

125
Shannon Taylor :: Nap :: 2
Lyon :: Mur
Mack :: CLN
Morua :: RF
Dan Martinus :: Mt G :: 5
Martinez :: Vit P
Dave Vohaska :: Raid :: 3
>>> Wills :: Blm
>>> Hermanson :: Bridge
Paynic :: Rox
Crabtree :: Mat
Rick Flanigan :: Hunt :: 4
Rick Moreno :: High :: 6
Kewin :: In Tr
Zimmer :: Dol
Conroy :: Wash
>>> Ken Mansell :: Jol BC :: 1
>>> Fish :: RT

135
Mike Hall :: Pln :: 2
Staver :: Har
Dale Schmidt :: OF :: 6
Milier :: Trim
Ergastalo :: Nor PD
Mitch Hazelwood :: Dix :: 4
Shoufler :: Hoop
>>> Albian :: Jeff
>>> Chapels :: Vil Pk
Mike Roseman :: Wal S :: 1
Phil Williams :: Pk For :: 3
Edmond :: Edw
>>>
Phil Christianson :: RF :: 5
Jacobs :: Apo
Swensen :: Eis
Weiss :: Spring
>>> Zack :: Gower
>>> Juricic :: Cal C

145
Mike Przybysz :: Pln :: 1
Metzler :: St P
Killian :: Carl S
Began :: CLN
Tom Crawford :: Dec :: 5
>>> John Lamb :: Riv D :: 4
>>> Miller :: Carb
McGinnis :: Jeff
Dawson :: Hins
Bob Campbell :: Dol :: 2
Rossario Scanio :: Ward :: 6
Gall :: Wal S
Stachowski :: Apo
Welsh :: Edw
>>> Allen :: Dn Gr
>>> Hughes :: Geog T
Bill Mitchell :: Jor :: 3
Gerat :: NL

160
Don Goodenough :: Troy :: 5
Shawn Cathcart :: Cool :: 3
Huckleby :: Hoop
Bates :: St P
Dave Baker :: Jeff :: 2
>>> Cameron :: Ben
>>> Wolf :: JL
Wozniak :: Lin
Wildergrobe :: Edw
Tom Bieschke :: RT :: 4
>>> Fluegel :: EM
>>> Gillespie :: Ward
Larry Leiparte :: Mt G :: 1
Richardson :: Spring
Tomberline :: CLN
Brown :: Wash
Stegall :: Alt
Ron Kubic :: Lin :: 6

185
Tony Harvey :: Pon :: 2
Bumbar :: Bat WC
Terry Collins :: In Tr :: 6
>>> Haywood :: Wash
>>> Jarrett :: Dec
Tod Hart :: EM :: 3
Mudloff :: RT
Crowell :: Mur
VanBuskirk :: Mt G
Joe Honn :: Jeff :: 4
Chris Pocowicz :: Nap :: 5
Washum :: Spring
>>> Fern :: JL
>>> BYE
Latowicz :: RT
Rick Meier :: Hunt :: 1
Janik :: Cal C
BYE

275
Noa Tyree :: Ward :: 1
Smith :: Lan
Howard Nass :: Spring :: 5
BYE
Joe Saldivar :: Sum H :: 4
Armintrout :: Bat WC
Stevens :: Vit PK
>>> BYE
>>> Sauer :: Mur
Wildeboer :: Mat B
>>> Scott Tighe :: Pln :: 2
>>> Crouch :: Nor
Dziedzic :: Mt G
BYE
Manuel Yanez :: Har :: 6
Potocki :: NL
Dean Hollis :: Rox :: 3
Herdzina :: Eis
"""

import pathlib

import bracket_utils
from PIL import Image

HERE = pathlib.Path(__file__).resolve().parent
_SENIOR_TEAM_REPLACE: dict[str, str] = {}
_SENIOR_CHAMPS: dict[int, bracket_utils.Placer] = {
    60: bracket_utils.Placer(name="Mike O'Brien", team="Chicago Ridge"),
    65: bracket_utils.Placer(name="Chris Scott", team="Joliet YMCA"),
    70: bracket_utils.Placer(name="John Ruiter", team="Joliet YMCA"),
    75: bracket_utils.Placer(name="Scott Pierre", team="Wheaton Franklin"),
    80: bracket_utils.Placer(name="Mike Pierre", team="Wheaton Franklin"),
    85: bracket_utils.Placer(name="Brian Porter", team="Oak Forest Warriors"),
    90: bracket_utils.Placer(name="Jeff Schultz", team="Burbank"),
    95: bracket_utils.Placer(name="Tony Prate", team="Orland Park Pioneers"),
    100: bracket_utils.Placer(name="Rick Criscione", team="Joliet YMCA"),
    105: bracket_utils.Placer(name="Mike Smith", team="Stillman Valley"),
    112: bracket_utils.Placer(name="Guy Milburn", team="Dolton"),  # Milbourn?
    118: bracket_utils.Placer(name="Evan Dale", team="Joliet Washington"),
    125: bracket_utils.Placer(name="Ken Mansell", team="Joliet Boy's Club"),
    135: bracket_utils.Placer(name="Mike Rosman", team="Walter Sundling"),
    145: bracket_utils.Placer(name="Mike Prsybysz", team="Plainfield Indian Tra"),
    160: bracket_utils.Placer(name="Larry Leiparte", team="Mt. Greenwood"),
    185: bracket_utils.Placer(name="Rick Meier", team="DeKalb Huntley"),
    275: bracket_utils.Placer(name="Noah Tyree", team="Bolingbrook Ward"),
}
_SENIOR_TEAM_SCORES: dict[str, float] = {
    "PLAINFIELD": 122.5,
    "JOLIET YMCA": 86.0,
}
_TEAM_ACRONYM_MAPPING: dict[str, str] = {
    "Alt": "Alton",
    "AnUP": "Antioch Upper Grade",
    "Apo": "Apollo",
    "BatWc": "Batavia Wrestling Club",
    "Bel R": "Belleville Red",
    "Bel W": "Belleville White",
    "Belvd Y": "Belvidere Y",
    "Ben": "Bensenville",
    "Bism": "Bismark-Henning",
    "Blm": "Bloomington",
    "Bridge": "Bridgeview",
    "Cal C": "Calumet City",
    "Carb": "Carbondale",
    "Carl S": "Carl Sandburg/Mundelein",
    "CSRM": "Carl Sandburg/Rolling Meadows",
    "Champ": "Champaign",
    "CR": "Chicago Ridge",
    "Bob C": "Cicero Bobcats",
    "Coal C": "Coal City",
    "Cool": "Coolidge",
    "Coop": "Cooper",
    "CLN": "Crystal Lake North",
    "Dec": "Decatur",
    "Deer P": "Deerpath",
    "Dix": "Dixon",
    "Dol": "Dolton",
    "Dn Gr": "Downers Grove",
    "High": "Dundee",
    "EM": "East Moline",
    "Edw": "Edwardsville",
    "Eis": "Eisenhower",
    "Elm": "Elmhurst",
    "Gen": "Geneseo",
    "Geog T": "Georgetown",
    "Gom": "Gompers",
    "Gow": "Gower",
    "Hins": "Hinsdale",
    "Hart": "Hartford",
    "Har": "Harvard",
    "HC": "Hazelcrest",
    "Holmes": "Holmes",
    "Hoop": "Hoopeston",
    "Hunt": "Huntley",
    "In Tr": "Indian Trails/Addison",
    "JL": "Jack London",
    "Jane Ad": "Jane Adams",
    "Jeff": "Jefferson/Woodridge",
    "Jol B C": "Joliet Boys Club",
    "Jol Y": "Joliet Y",
    "Jor": "Jordan",
    "Lk Vil": "Lake Villa",
    "Lk Zur WC": "Lake Zurich Wr. Club",
    "Lan": "Lancers",
    "Lin": "Lincoln/Cicero",
    "LJH": "Lincoln Jr. High/Lincoln",
    "Lock": "Lockport",
    "Lund": "Lundahl",
    "Mah": "Mahomet Seymour",
    "Mat": "Mattoon",  # ALSO: Matburns?
    "Mink": "Minooka",
    "Mok": "Mokena",
    "Mt. G": "Mt. Greenwood",
    "Mur": "Murphysboro",
    "Nap": "Naperville Wrestlers",
    "NL": "New Lenox",
    "Nor PD": "Norridge Pk Dist",
    "Nor": "Normal",
    "OF": "Oak Forest",
    "Or Pk": "Orland Park",
    "PPD": "Palatine Park Dist",
    "Pan": "Panthers",
    "Pk For": "Park Forest",
    "Pek": "Pekin Boys Club",
    "Plian": "Plainfield",
    "Pon": "Pontiac",
    "Raid": "Raiders",
    "Riv D": "Riverdale",
    "Riv Tr": "River Trails",
    "Ros": "Rosemont",
    "Rox": "Roxana",
    "Shab": "Shabbona",
    "Sh Ln": "Shady Lane",
    "Spring": "Springfield",
    "St V": "Stillman Valley",
    "St P": "St. Phillip Neri",
    "St T": "St. Thecla",
    "Sum H": "Summit Hill",
    "Syc": "Sycamore",
    "TP": "Tinley Park",
    "Trim": "Trimpe",
    "Troy": "Troy",
    "Urb": "Urbana",
    "Vil Pk": "Villa Park",
    "Vit PK": "Vittum Park",
    "Wal S": "Walter Sundling",
    "Ward": "Ward Middle School",
    "Wash": "Washington",
    "Wv": "Westville",
    "Wh Fr": "Wheaton/Franklin",
    "Wood Wil": "Woodrow Wilson",
}


def _create_placers_image_row(
    headshot_img, names_img, headshot_width, headshot_height, name_width, name_height
):
    # Create padded headshot box
    headshot_box = Image.new("RGBA", (headshot_width, headshot_height), (0, 0, 0, 0))
    headshot_box.paste(
        headshot_img,
        (
            (headshot_width - headshot_img.width) // 2,
            (headshot_height - headshot_img.height) // 2,
        ),
    )

    # Create padded name box
    name_box = Image.new("RGBA", (name_width, name_height), (0, 0, 0, 0))
    name_box.paste(
        names_img,
        ((name_width - names_img.width) // 2, (name_height - names_img.height) // 2),
    )

    # Stack horizontally
    row = Image.new(
        "RGBA",
        (
            headshot_width + name_width,
            max(headshot_height, name_height),
        ),
        (0, 0, 0, 0),
    )
    row.paste(headshot_box, (0, (row.height - headshot_height) // 2))
    row.paste(name_box, (headshot_width, (row.height - name_height) // 2))

    return row


def _generate_placers_image(year: int):
    all_weights = set(_SENIOR_CHAMPS.keys())
    weights = sorted(all_weights)

    raw_root = HERE.parent / "raw-data" / str(year)
    headshots = [
        Image.open(raw_root / "placers-headshot" / f"{weight}.jpg")
        for weight in weights
    ]
    names = [
        Image.open(raw_root / "placers-names" / f"{weight}.jpg") for weight in weights
    ]

    max_headshot_width = max(img.width for img in headshots)
    max_headshot_height = max(img.height for img in headshots)
    max_name_width = max(img.width for img in names)
    max_name_height = max(img.height for img in names)

    rows = [
        _create_placers_image_row(
            headshot_img,
            names_img,
            max_headshot_width,
            max_headshot_height,
            max_name_width,
            max_name_height,
        )
        for headshot_img, names_img in zip(headshots, names, strict=True)
    ]

    midpoint = (len(rows) + 1) // 2  # extra one on left if odd
    left_column = rows[:midpoint]
    right_column = rows[midpoint:]

    row_width = max_headshot_width + max_name_width
    row_height = max(max_headshot_height, max_name_height)
    column_height = midpoint * row_height
    total_width = 2 * row_width

    # Create final canvas
    final_img = Image.new("RGBA", (total_width, column_height), (0, 0, 0, 0))

    # Paste left column
    for i, row in enumerate(left_column):
        width_offset = 0
        height_offset = i * row_height
        final_img.paste(
            row, (width_offset + (row_width - row.width) // 2, height_offset)
        )

    # Paste right column
    for i, row in enumerate(right_column):
        width_offset = row_width
        height_offset = i * row_height
        final_img.paste(
            row, (width_offset + (row_width - row.width) // 2, height_offset)
        )

    static_dir = HERE.parent / "static" / "static" / "images"
    save_location = static_dir / f"{year}-senior-placers.png"
    final_img.save(save_location)


def main():
    _generate_placers_image(1978)

    team_scores: dict[bracket_utils.Division, list[bracket_utils.TeamScore]] = {}
    team_scores["senior"] = []
    for team_name, score in _SENIOR_TEAM_SCORES.items():
        team_scores["senior"].append(
            bracket_utils.TeamScore(team=team_name, score=score)
        )

    weight_classes: list[bracket_utils.WeightClass] = []
    for weight, champ in _SENIOR_CHAMPS.items():
        weight_class = bracket_utils.weight_class_from_champ(
            "senior", weight, champ, _SENIOR_TEAM_REPLACE
        )
        weight_classes.append(weight_class)

    extracted = bracket_utils.ExtractedTournament(
        weight_classes=weight_classes, team_scores=team_scores, deductions=[]
    )
    extracted.sort()
    with open(HERE / "extracted.1978.json", "w") as file_obj:
        file_obj.write(extracted.model_dump_json(indent=2))
        file_obj.write("\n")


if __name__ == "__main__":
    main()
